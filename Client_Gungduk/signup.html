<!DOCTYPE html>
<html lang="ko">
<head>
	<title>Sign Up PAGE</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" integrity="sha384-Zug+QiDoJOrZ5t4lssLdxGhVrurbmBWopoEl+M6BdEfwnCJZtKxi1KgxUyJq13dy" crossorigin="anonymous">
	<link rel="stylesheet" href="css/styles.css">
</head>
<body>
	<br><br><br><br>
	<div class="container-fluid">
			<form>
				<div class="form-group row lp-title-upperspace">
					<label class="col-3 col-form-label font-weight-bold text-center">ID</label>
					<div class="col-9">
						<input class="form-control" id="InputID2" placeholder="Enter ID">
						<div class="invalid-feedback">Please write your ID.</div>
					</div>
				</div>
				<div class="form-group row lp-title-upperspace">
					<label class="col-3 col-form-label font-weight-bold text-center">Email</label>
					<div class="col-9">
						<input class="form-control" id="InputEMAIL2" placeholder="Enter email">
						<div class="invalid-feedback">Please write your E-mail.</div>
					</div>
				</div>
				<div class="form-group row">
					<label for="InputPassword2" class="col-3 col-form-label text-center font-weight-bold">PW</label>
					<div class="col-9">
						<input type="password" class="form-control" id="InputPassword12" placeholder="Enter password" >
					</div>
				</div>
				<div class="form-group row">
					<label for="InputPhoneNum2" class="col-3 col-form-label text-center font-weight-bold">핸드폰번호</label>
					<div class="col-9">
						<input type="text" class="form-control" id="InputPhoneNum2" placeholder="Enter phone number" >
					</div>
				</div>
				<br />
				<button id="btn_signup" type="button" class="btn btn-danger btn-block lp-btn-upperspace">가입하기</button>
				<a role ="button" id="btn_signin" href="signin.html" class="btn btn-danger btn-block text-white">로그인하기</a>
			</form>
		</div>
		<!-- Optional JavaScript -->
		<!-- jQuery first, then Popper.js, then Bootstrap JS -->
		<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
		<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
		<script>
			$(function(){
				$("#btn_signup").click(function(){
					var userID = $("#InputID2").val();
					var email = $("#InputEMAIL2").val();
					var password = $("#InputPassword12").val();
					var phoneNumber = $("#InputPhoneNum2").val();
					//data = "{\"id\" : \"" + userID + "\", \"phoneNum\" : \""+phoneNumber+"\", \"pw\" : \""+password+"\"}";
					data = "{\"id\" : \"" + userID + "\", \"email\" : \""+email+"\", \"phoneNum\" : \""+phoneNumber+"\", \"pw\" : \""+password+"\"}";

					jQuery.ajax({
						type : "POST",
						url : "http://13.125.138.168:8080/gungduk/api/v1/regist",
						//url : "http://13.125.177.106:8080/gungduk/api/v1/regist",
						data : data,
						async:false,
						contentType : "application/json; charset=UTF-8",
						success:function(data){
								if(data==1){
									alert("회원가입 성공");
									location.replace("signin.html");
								}
								else if(data==-1)
									alert("이미 존재하는 아이디입니다.");
								else if(data==2){
									alert("모두 입력해주세요");
								}
								else{
	                        		alert("기입된 정보가 올바르지 않습니다.");
								}
						},
						error:function(request,error){ 
							alert("message:"+request.responseText);
						}
					});
				});
			});
		</script>
</body>
</html>