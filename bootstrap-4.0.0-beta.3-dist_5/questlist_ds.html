<!DOCTYPE html>
<html lang="kor">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, inital-scale=1, shrink-to-fit=no">
	<title>덕수궁 퀘스트 목록</title>
	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" integrity="sha384-Zug+QiDoJOrZ5t4lssLdxGhVrurbmBWopoEl+M6BdEfwnCJZtKxi1KgxUyJq13dy" crossorigin="anonymous">
	<link rel="stylesheet" href="css/styles.css">
</head>
<body>
	<br>
	<div class="container-fluid">
		<div class="row">
			<div class="col text-center">
				<h4 class="mp-title-space font-weight-bold">궁덕궁덕</h4>
			</div>
		</div>
		<br>
		<div class="row">
			<div class="col">
				<h6 class="text-center"><a href="mypage.html" class="text-dark font-weight-bold">마이페이지</a></h6><hr>
			</div>
			<div class="col">
				<h6 class="text-center"><a href="main.html" class="text-dark font-weight-bold">HOME</a></h6>
			</div>
			<div class="col">
				<h6 class="text-center"><a href="step1.html" class="text-dark font-weight-bold">고궁 안내</a></h6>
			</div>
		</div>
		<br>
		<h6 class="font-weight-bold">덕수궁</h6>
		<table class="table">
		  <thead>
		    <tr>
		      <th scope="col">#</th>
		      <th scope="col">덕수궁 퀘스트 목록</th>
		      <th scope="col">수행완료 여부</th>
		    </tr>
		  </thead>
		  <tbody>
		    <tr>
		      <th scope="row">1</th>
		      <td>중화전</td>
		      <td></td>
		    </tr>
		    <tr>
		      <th scope="row">2</th>
		      <td>중화문</td>
		      <td></td>
		    </tr>
		    <tr>
		      <th scope="row">3</th>
		      <td>함녕전</td>
		      <td></td>
		    </tr>
		    <tr>
		      <th scope="row">4</th>
		      <td>석조전</td>
		      <td></td>
		    </tr>
		    <tr>
		      <th scope="row">5</th>
		      <td>정관헌</td>
		      <td></td>
		    </tr>
		    <tr>
		      <th scope="row">6</th>
		      <td>석어당</td>
		      <td></td>
		    </tr>
		    <tr>
		      <th scope="row">7</th>
		      <td>덕홍전</td>
		      <td></td>
		    </tr>
		    <tr>
		      <th scope="row">8</th>
		      <td>준명당</td>
		      <td></td>
		    </tr>
		    <tr>
		      <th scope="row">9</th>
		      <td>즉조당</td>
		      <td></td>
		    </tr>
		    <tr>
		      <th scope="row">10</th>
		      <td>대한문</td>
		      <td></td>
		    </tr>
		    <tr>
		      <th scope="row">11</th>
		      <td>광명문</td>
		      <td></td>
		    </tr>
		    <tr>
		      <th scope="row">12</th>
		      <td>중명전</td>
		      <td></td>
		    </tr>
		  </tbody>
		</table>
		<div class="row">
			<div class="col"></div>
			<div class="col-6"><button id="btn_backmypage" type="button" class="btn btn-danger btn-block"><a href="questlist.html" class="text-white">돌아가기</a></button></div>
			<div class="col"></div>
		</div>
	</div>
	<!-- Optional JavaScript -->
	<!-- jQuery first, then Popper.js, then Bootstrap JS -->
	 <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
      <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
	<script>
		console.log(sessionStorage.getItem("id"));
		
		$(function(){
			var userID = sessionStorage.getItem("id");
			var area = "dsk";
			//data = "{\"email\" : \"" + userEmail + "\", \"plcName\" : \"" + area + "\"}";
			$.ajax({
					type:"POST",
					url:"http://13.124.63.236:8080/gungduk/api/v1/successQst", //서버주소
					//사용자 이메일(세션처리), 궁 이름
					data: {"id": userID, "plcName": area},
					async: false, 
					//dataType:"JSON",
					success:function(data){
						console.log(typeof(data));
						console.log(data);
						var len = data.length;

						for(var i=0;i<len;i++){
							if(data[i]=="중화전") $("td:eq(1)").html("<img align='center' src='checked.png'>");
							else if(data[i]=="중화문") $("td:eq(3)").html("<img src='checked.png'>");
							else if(data[i]=="함녕전") $("td:eq(5)").html("<img src='checked.png'>");
							else if(data[i]=="석조전") $("td:eq(7)").html("<img src='checked.png'>");
							else if(data[i]=="정관헌") $("td:eq(9)").html("<img src='checked.png'>");
							else if(data[i]=="석어당") $("td:eq(11)").html("<img src='checked.png'>");
							else if(data[i]=="덕홍전") $("td:eq(13)").html("<img src='checked.png'>");
							else if(data[i]=="준명당") $("td:eq(15)").html("<img src='checked.png'>");
							else if(data[i]=="즉조당") $("td:eq(17)").html("<img src='checked.png'>");
							else if(data[i]=="대한문") $("td:eq(19)").html("<img src='checked.png'>");
							else if(data[i]=="광명문") $("td:eq(21)").html("<img src='checked.png'>");
							else if(data[i]=="중명전") $("td:eq(23)").html("<img src='checked.png'>");
						}
					},
					error:function(request, error){
						alert("message:"+request.responseText); 
					}
				});
		});
		</script>
</body>
</html>